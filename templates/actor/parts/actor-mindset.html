<!-- Add this CSS at the top of your mindset template -->
<style>
.mindset-card.selected {
    border-color: #d4af37 !important;
    border-width: 4px !important;
    background: rgba(212, 175, 55, 0.1) !important;
    box-shadow: 0 0 25px rgba(212, 175, 55, 0.5) !important;
}

.mindset-card.selected .mindset-icon {
    background: rgba(212, 175, 55, 0.4) !important;
    border-color: #d4af37 !important;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.6) !important;
    transform: scale(1.1) !important;
}
</style>

<div class="content-section">
    <h2 class="section-title">Mindset</h2>
    <p class="mindset-description">Choose your character's primary mindset, which affects their approach to problem-solving and provides attribute bonuses.</p>
    
    <div style="display: flex; flex-direction: row; gap: 20px; justify-content: space-between; margin-bottom: 25px;">
        
        <div style="background: rgba(44, 62, 80, 0.4); border: 2px solid #95a5a6; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 200px; flex: 1; max-width: 300px;" 
             class="mindset-card {{#if (eq system.mindset.selected 'Force')}}selected{{/if}}" 
             data-mindset="Force"
             onmouseover="if(!this.classList.contains('selected')){this.style.borderColor='#d4af37'; this.style.borderWidth='3px'; this.style.background='rgba(44, 62, 80, 0.6)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(212, 175, 55, 0.3)';}"
             onmouseout="if(!this.classList.contains('selected')){this.style.borderColor='#95a5a6'; this.style.borderWidth='2px'; this.style.background='rgba(44, 62, 80, 0.4)'; this.style.transform='translateY(0px)'; this.style.boxShadow='none';}"
             onclick="selectMindset('Force', this)">
            <div style="width: 80px; height: 80px; background: rgba(212, 175, 55, 0.2); border: 3px solid #95a5a6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; color: #d4af37; margin-bottom: 15px; transition: all 0.3s ease;" class="mindset-icon">‚ö°</div>
            <div>
                <h4 style="color: #d4af37; margin: 0 0 8px 0; font-size: 1.4em; font-weight: bold;">Force</h4>
                <p style="color: #bdc3c7; margin: 0 0 12px 0; font-style: italic;">Direct Action & Power</p>
                <div style="color: #ecf0f1; font-weight: bold; margin-bottom: 10px; background: rgba(212, 175, 55, 0.15); padding: 8px 12px; border-radius: 6px; border: 1px solid #d4af37; font-size: 0.9em;">+1 to Might, Intelligence, Bearing</div>
                <p style="color: #95a5a6; font-size: 0.85em; margin: 0;">Favor direct solutions, physical strength, and commanding presence.</p>
            </div>
        </div>

        <div style="background: rgba(44, 62, 80, 0.4); border: 2px solid #95a5a6; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 200px; flex: 1; max-width: 300px;" 
             class="mindset-card {{#if (eq system.mindset.selected 'Finesse')}}selected{{/if}}" 
             data-mindset="Finesse"
             onmouseover="if(!this.classList.contains('selected')){this.style.borderColor='#d4af37'; this.style.borderWidth='3px'; this.style.background='rgba(44, 62, 80, 0.6)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(212, 175, 55, 0.3)';}"
             onmouseout="if(!this.classList.contains('selected')){this.style.borderColor='#95a5a6'; this.style.borderWidth='2px'; this.style.background='rgba(44, 62, 80, 0.4)'; this.style.transform='translateY(0px)'; this.style.boxShadow='none';}"
             onclick="selectMindset('Finesse', this)">
            <div style="width: 80px; height: 80px; background: rgba(212, 175, 55, 0.2); border: 3px solid #95a5a6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; color: #d4af37; margin-bottom: 15px; transition: all 0.3s ease;" class="mindset-icon">üéØ</div>
            <div>
                <h4 style="color: #d4af37; margin: 0 0 8px 0; font-size: 1.4em; font-weight: bold;">Finesse</h4>
                <p style="color: #bdc3c7; margin: 0 0 12px 0; font-style: italic;">Precision & Subtlety</p>
                <div style="color: #ecf0f1; font-weight: bold; margin-bottom: 10px; background: rgba(212, 175, 55, 0.15); padding: 8px 12px; border-radius: 6px; border: 1px solid #d4af37; font-size: 0.9em;">+1 to Coordination, Guile, Charm</div>
                <p style="color: #95a5a6; font-size: 0.85em; margin: 0;">Prefer precise actions, clever solutions, and social manipulation.</p>
            </div>
        </div>

        <div style="background: rgba(44, 62, 80, 0.4); border: 2px solid #95a5a6; border-radius: 12px; padding: 20px; cursor: pointer; transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 200px; flex: 1; max-width: 300px;" 
             class="mindset-card {{#if (eq system.mindset.selected 'Resilience')}}selected{{/if}}" 
             data-mindset="Resilience"
             onmouseover="if(!this.classList.contains('selected')){this.style.borderColor='#d4af37'; this.style.borderWidth='3px'; this.style.background='rgba(44, 62, 80, 0.6)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(212, 175, 55, 0.3)';}"
             onmouseout="if(!this.classList.contains('selected')){this.style.borderColor='#95a5a6'; this.style.borderWidth='2px'; this.style.background='rgba(44, 62, 80, 0.4)'; this.style.transform='translateY(0px)'; this.style.boxShadow='none';}"
             onclick="selectMindset('Resilience', this)">
            <div style="width: 80px; height: 80px; background: rgba(212, 175, 55, 0.2); border: 3px solid #95a5a6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; color: #d4af37; margin-bottom: 15px; transition: all 0.3s ease;" class="mindset-icon">üõ°Ô∏è</div>
            <div>
                <h4 style="color: #d4af37; margin: 0 0 8px 0; font-size: 1.4em; font-weight: bold;">Resilience</h4>
                <p style="color: #bdc3c7; margin: 0 0 12px 0; font-style: italic;">Endurance & Stability</p>
                <div style="color: #ecf0f1; font-weight: bold; margin-bottom: 10px; background: rgba(212, 175, 55, 0.15); padding: 8px 12px; border-radius: 6px; border: 1px solid #d4af37; font-size: 0.9em;">+1 to Endurance, Guts, Composure</div>
                <p style="color: #95a5a6; font-size: 0.85em; margin: 0;">Focus on persistence, mental fortitude, and staying calm under pressure.</p>
            </div>
        </div>
    </div>

    <!-- Hidden input for form submission -->
    <input type="hidden" name="system.mindset.selected" value="{{system.mindset.selected}}" class="mindset-hidden-input" />

</div>

<script>
function selectMindset(mindsetValue, cardElement) {
    // Remove selected class from all cards
    const allCards = document.querySelectorAll('.mindset-card');
    allCards.forEach(card => {
        card.classList.remove('selected');
        // Clear any inline styles that might override CSS
        card.style.removeProperty('border-color');
        card.style.removeProperty('border-width');
        card.style.removeProperty('background');
        card.style.removeProperty('box-shadow');
        card.style.removeProperty('transform');
        
        // Reset icon
        const icon = card.querySelector('.mindset-icon');
        if (icon) {
            icon.style.removeProperty('background');
            icon.style.removeProperty('border-color');
            icon.style.removeProperty('box-shadow');
            icon.style.removeProperty('transform');
        }
    });
    
    // Add selected class to clicked card (CSS will handle the styling)
    cardElement.classList.add('selected');
    
    // Update hidden input
    const hiddenInput = document.querySelector('.mindset-hidden-input');
    if (hiddenInput) {
        hiddenInput.value = mindsetValue;
        
        // Trigger change event for Foundry
        const changeEvent = new Event('change', { bubbles: true });
        hiddenInput.dispatchEvent(changeEvent);
    }
}
</script>